<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tracker — Signalements style "Stranger" (Local save)</title>

  <!-- Google Fonts (ambiance) -->
  <link href="https://fonts.googleapis.com/css2?family=UnifrakturCook:wght@700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <script>
  if (sessionStorage.getItem("logged") !== "1") {
    window.location.href = "login.html";
  }
</script>
  <header class="site-header">
    <div class="title-wrap">
      <h1 class="logo">STRANGER — Tracker</h1>
      <p class="subtitle">Signale, sauvegarde localement et exporte vers GitHub (JSON)</p>
    </div>
    <nav class="header-actions">
      <button id="exportBtn">Exporter (.json)</button>
      <label class="import-label">
        Importer
        <input id="importFile" type="file" accept=".json" />
      </label>
      <button id="clearBtn" title="Supprimer toutes les entrées">Tout effacer</button>
    </nav>
  </header>

  <main class="main">
    <section class="left">
      <form id="reportForm" class="card form-card">
        <h2>Ajouter un signalement</h2>

        <div class="form-row">
          <label>Nom / Titre
            <input id="inputTitle" type="text" required maxlength="80" placeholder="Ex : 'Lumière étrange'">
          </label>
        </div>

        <div class="form-row">
          <label>Lieu
            <input id="inputLocation" type="text" required placeholder="Ex : 'Hawkins — rue centrale'">
          </label>
        </div>

        <div class="form-row small">
          <label>Date
            <input id="inputDate" type="date" required>
          </label>
          <label>Heure
            <input id="inputTime" type="time">
          </label>
        </div>

        <div class="form-row">
          <label>Notes
            <textarea id="inputNotes" rows="3" placeholder="Détails supplémentaires..."></textarea>
          </label>
        </div>

        <div class="form-row actions">
          <button type="submit" id="saveBtn">Ajouter</button>
          <button type="button" id="updateBtn" class="hidden">Mettre à jour</button>
          <button type="button" id="cancelEditBtn" class="hidden">Annuler</button>
        </div>

      </form>

      <div class="card stats-card">
        <h3>Statistiques</h3>
        <p id="statCount">0 signalement(s)</p>
        <p>Sauvegarde automatique : <strong>localStorage</strong></p>
      </div>

      <div class="card howto-card">
        <h3>Comment sauvegarder sur GitHub</h3>
        <ol>
          <li>Clique "Exporter" → télécharge `reports.json`.</li>
          <li>Dans ton repo GitHub, va sur **Add file → Upload files** et uploade `reports.json` (ou commit avec `git`).</li>
          <li>Si tu veux automatiser, tu peux utiliser le GitHub CLI : <code>gh repo clone ...</code> et commit/push le fichier.</li>
        </ol>
      </div>
    </section>

    <section class="right">
      <div class="topbar">
        <input id="search" placeholder="Rechercher par titre, lieu, notes..." />
        <select id="filterDate">
          <option value="all">Tous</option>
          <option value="today">Aujourd'hui</option>
          <option value="week">Cette semaine</option>
          <option value="month">Ce mois</option>
        </select>
      </div>

      <div id="list" class="reports-list">
        <!-- cartes de signalements générées ici -->
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <small>Template inspiré — <em>Style sombre / rouge</em> — Données locales (localStorage) + Export/Import JSON</small>
  </footer>

  <script src="script.js"></script>
</body>
</html>
